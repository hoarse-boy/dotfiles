# █░█ █▀ █▀▀ █▀█   █▀█ █▀█ █▀▀ █▀▀ █▀
# █▄█ ▄█ ██▄ █▀▄   █▀▀ █▀▄ ██▄ █▀░ ▄█

# Set your personal hyprland configuration here
# For a sample file, please refer to https://github.com/prasanthrangan/hyprdots/blob/main/Configs/.config/hypr/userprefs.t2


# █▄▀ █▀▀ █▄█ █▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀ █▀
# █░█ ██▄ ░█░ █▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█ ▄█
# keybindings. create a its own file and source here.

# NOTE:
# H J K L ARE ONLY FOR MOVEMENT FOR EVERY KEY COMBINATION. EXCEPT FOR CTRL + J K.
# `SUPER` OR AND `ALT` FOR HYRPLAND MOVEMENT. for most used ones just use Alt, else use Alt-Shift.
# `CTRL` IS FOR INSIDE APP BINDING. SUCH COPY AND OTHERS. 
# Alt and J / K is reserved for nvim.

# NOTE: list of all of the keybindings for certain movement. this is usefull to make sure no keymaps is conflicting with vim, hyprland, and other gui apps.
# gui apps'.
# ctrl-shift-l => move tabs to the left like ctrl+tab. this is done by xremap. and it makes the ctrl alt h or j to be unusable.
# ctrl-shift-h => move tabs to the right like ctrl+shift+tab. this is done by xremap. and it makes the ctrl alt h or j to be unusable.
# ctrl-l => is used alot in browser.
# ctlr-l / l / h / j => is used alot in vim for moving around buffer level.

# NOTE: 
# hyperland's.
# $mainMod / super / win + h j k l to move to apps inside workspace.
# alt+ h or l to move to the left or right workspace.
# alt+shift+ h or l to move app to the left or right workspace silently.
# alt+shift+(n) to move app to (n) workspace silently.

# Assign apps
$term = wezterm # kitty
$editor = code
$file = dolphin
$browser = firefox # google-chrome-stable
$noteTaker = obsidian

# vim variables
$vimRight = L
$vimLeft = H
$vimUp = K
$vimDown = J

# NOTE: unbind should be the tops most
unbind = $mainMod, Q # unbind closed focused window
unbind = $mainMod, L # unbind lock screen. it will be used by movefocus below.
unbind = $mainMod, A # unbind rofi launcher

# unbind before it has conflicst with other binding.
unbind = $mainMod, K
unbind = $mainMod, J

unbind = $mainMod, A # unbind hyprdots rofi app swithcer.
unbind = $mainMod, Tab, # unbind movefocus. this will be used to launch rofi app switcher.

unbind = $mainMod, T # unbind hyprdots launch terminal emulator
unbind = $mainMod, E # unbind hyprdots launch file manager
unbind = $mainMod, C # unbind hyprdots launch text editor
unbind = $mainMod, F # unbind hyprdots launch web browser

# unbind Switch workspaces
unbind = $mainMod, 1, workspace, 1
unbind = $mainMod, 2, workspace, 2
unbind = $mainMod, 3, workspace, 3
unbind = $mainMod, 4, workspace, 4
unbind = $mainMod, 5, workspace, 5
unbind = $mainMod, 6, workspace, 6
unbind = $mainMod, 7, workspace, 7
unbind = $mainMod, 8, workspace, 8
unbind = $mainMod, 9, workspace, 9
unbind = $mainMod, 0, workspace, 10

# unbind = $mainMod+Ctrl, Down, workspace, empty # FIX: disabling this causes vim to become smaller in terminal. maybe because of wezterm keybinding?
unbind = $mainMod+Ctrl+Alt, Right, movetoworkspace, r+1
unbind = $mainMod+Ctrl+Alt, Left, movetoworkspace, r-1
unbind = $mainMod+Ctrl, Right, workspace, r+1
unbind = $mainMod+Ctrl, Left, workspace, r-1

# Move focused window to a workspace silently
unbind = $mainMod+Alt, 1, movetoworkspacesilent, 1
unbind = $mainMod+Alt, 2, movetoworkspacesilent, 2
unbind = $mainMod+Alt, 3, movetoworkspacesilent, 3
unbind = $mainMod+Alt, 4, movetoworkspacesilent, 4
unbind = $mainMod+Alt, 5, movetoworkspacesilent, 5
unbind = $mainMod+Alt, 6, movetoworkspacesilent, 6
unbind = $mainMod+Alt, 7, movetoworkspacesilent, 7
unbind = $mainMod+Alt, 8, movetoworkspacesilent, 8
unbind = $mainMod+Alt, 9, movetoworkspacesilent, 9
unbind = $mainMod+Alt, 0, movetoworkspacesilent, 10

bind = ALT, Q, exec, $scrPath/dontkillsteam.sh # close focused window
bind = ALT, Space, exec, pkill -x rofi || $scrPath/rofilaunch.sh d # launch application launcher

# Switch workspaces to a relative workspace. vim binding. still retain the hyprdots binding with arrow keys.
bind = Alt, $vimRight, workspace, r+1
bind = Alt, $vimLeft, workspace, r-1

# Move to the first empty workspace. vim binding.
bind = Alt, M, workspace, empty 
# bind = Alt, $vimDown, workspace, empty # is used by nvim

# Move focused window to a relative workspace. vim binding
bind = Alt+Shift, $vimRight, movetoworkspace, r+1
bind = Alt+Shift, $vimLeft, movetoworkspace, r-1

# Move focused window to (n) workspace silently
bind = Alt+Shift, 1, movetoworkspacesilent, 1
bind = Alt+Shift, 2, movetoworkspacesilent, 2
bind = Alt+Shift, 3, movetoworkspacesilent, 3
bind = Alt+Shift, 4, movetoworkspacesilent, 4
bind = Alt+Shift, 5, movetoworkspacesilent, 5
bind = Alt+Shift, 6, movetoworkspacesilent, 6
bind = Alt+Shift, 7, movetoworkspacesilent, 7
bind = Alt+Shift, 8, movetoworkspacesilent, 8
bind = Alt+Shift, 9, movetoworkspacesilent, 9
bind = Alt+Shift, 0, movetoworkspacesilent, 10

# Move/Change window focus. vim binding
bind = $mainMod, $vimRight, movefocus, r
bind = $mainMod, $vimLeft, movefocus, l
bind = $mainMod, $vimUp, movefocus, u
bind = $mainMod, $vimDown, movefocus, d

# # Rofi menus
bind = Alt, Tab, exec, pkill -x rofi || $scrPath/rofilaunch.sh w # launch window switcher
bind = Alt+Shift, E, exec, pkill -x rofi || $scrPath/rofilaunch.sh f # launch file explorer

# # Application shortcuts
bind = Alt, T, exec, $term # launch terminal emulator
# bind = Alt+Shift, T, exec, $term -e "connect unix" # launch terminal emulator
bind = Alt, E, exec, $file # launch file manager
bind = Alt, C, exec, $editor # launch text editor
bind = Alt, B, exec, $browser # launch web browser
bind = Alt, N, exec, $noteTaker # launch notes
bind = Alt, A, exec, $noteTaker; $browser # launch notes
# bind = Ctrl+Shift, Escape, exec, $scrPath/sysmonlaunch.sh # launch system monitor (htop/btop or fallback to top)

bind = Alt+Ctrl, S, togglesplit # Toggle focused window split

# # Resize windows. vim binding
binde = $mainMod+Shift, $vimRight, resizeactive, 30 0
binde = $mainMod+Shift, $vimLeft, resizeactive, -30 0
binde = $mainMod+Shift, $vimUp, resizeactive, 0 -30
binde = $mainMod+Shift, $vimDown, resizeactive, 0 30

# Switch workspaces
bind = Alt, 1, workspace, 1
bind = Alt, 2, workspace, 2
bind = Alt, 3, workspace, 3
bind = Alt, 4, workspace, 4
bind = Alt, 5, workspace, 5
bind = Alt, 6, workspace, 6
bind = Alt, 7, workspace, 7
bind = Alt, 8, workspace, 8
bind = Alt, 9, workspace, 9
bind = Alt, 0, workspace, 10

bind = $mainMod+Alt, L, exec, swaylock # launch lock screen

# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀█ █░█ █░░ █▀▀ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █▀▄ █▄█ █▄▄ ██▄ ▄█

# See https://wiki.hyprland.org/Configuring/Window-Rules/
# FIX: EXPERIMENTAL. source it with a single file for modularity

# transpacerncy. extending windowsrules.conf
# run this command `hyprctl clients` to find the class of the target application
windowrulev2 = opacity 0.80 0.80,class:^(obsidian)$
# windowrulev2 = opacity 0.90 0.90,class:^(neovide)$
windowrulev2 = opacity 0.90 0.90,class:^(Google-chrome)$
windowrulev2 = opacity 0.80 0.80,class:^(org.gnome.Calculator)$
windowrulev2 = opacity 0.80 0.80,class:^(com.usebottles.bottles)$

# windowrule = workspace 1, class:firefox
# windowrule = focus, class:firefox

# NOTE: makes certains apps to be in a specific workspace.
# wezterm will have a terminal session for doing most of the work and light editing. it will have a lot of tabs.
# neovide will be launched from wezterm to focus on editing the main work. it also has session built in by lazyvim to resume work.
# obsidian is the least used app as i will be using wezterm lazyvim's plugin obsidian.nvim to edit notes.
windowrule = workspace 1, firefox
windowrule = workspace 2, wezterm
windowrule = workspace 3, obsidian
# windowrule = workspace 3, neovide

# launch my most used apps on startup. and got to empty workspace.
exec-once = $noteTaker
exec-once = $browser
exec-once = $term
# exec-once = fish hyprctl dispatch workspace empty # FIX: does not work.

# TODO: find a way to remove gradient color effect.
# overwrite to not make the active and inactive_border to have dimming / gradient color effect which is annoying.
# general {
#     col.active_border = rgba(EFDAB4ff) 
#     col.inactive_border = rgba(323031ff) 
# }
# group {
#     col.border_active = rgba(EFDAB4ff) rgba(524329ff) 45deg
#     col.border_inactive = rgba(323031cc) 
#     col.border_locked_active = rgba(101011ff) rgba(070708ff) 45deg
#     col.border_locked_inactive = rgba(FFFFFFcc) 
# }


misc {
  # ex. go to browser when an app needs to open a link.
  focus_on_activate = true
}
